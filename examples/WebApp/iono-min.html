<meta content="width=device-width,initial-scale=1"name=viewport><title>iono</title><style>body{text-align:center;font:16px helvetica;margin:0;padding:0;background:#369}.l{float:left}.r{float:right}.a{position:absolute}input{-webkit-appearance:none;-webkit-text-size-adjust:none;height:23px}.cont{width:100%}.body{width:280px;margin:0 auto}.swi{margin:5px}.swi.m{margin:5px 24px}.swi input{position:absolute;margin-left:-9999px;visibility:hidden}.swi label{display:block;position:relative;outline:0;padding:2px;width:60px;height:30px;background:#889;border-radius:15px}.swi label:after,.swi label:before{position:absolute;content:''}.swi label:before{top:2px;left:2px;bottom:2px;right:2px;background:#fff;border-radius:14px}.swi label:after{transition:all .2s;top:4px;left:4px;bottom:4px;width:26px;background:#bbbcc4;border-radius:14px}.swi input:checked+label:after{margin-left:30px;background:#60c186}br,hr{clear:both}.err{color:#fff;margin:9px;display:none}.sts .t{color:#778;padding-bottom:5px}.sts .e{width:74px}.sts .i{width:40px;text-align:center}.sts div{float:left;width:68px;text-align:right}.title{color:#fff;margin-top:30px;font-size:28px}.p{margin:20px auto 0 auto;padding:10px;background:rgba(240,240,250,.8);border-radius:5px;display:none}.p input{font-size:14px;border:2px solid #889;border-radius:3px}.line{margin-bottom:25px}.line label{float:right;text-align:right;margin:3px 5px 20px 0}.line input{float:right;width:155px}.line.spa{margin-bottom:32px}.bt{width:70px;background:#eeeef7;background:linear-gradient(#fff,#dde);border:#889 1px solid;border-radius:4px;padding:7px 5px;cursor:default}.bt:hover{background:#fff}.bt:active{background:#dde}.bt.c{width:50px}#cb{display:none;width:20px;padding:2px 5px}#cb>div{width:20px;height:3px;background:#778;margin:4px 0;border-radius:1px}.ao{margin-top:7px;margin-bottom:4px}#AO1{width:117px}</style><script>function x(){var e=this;e.r=new XMLHttpRequest,e.r.onload=function(){4===e.r.readyState&&(200===e.r.status?e.o():e.e())},e.r.onerror=function(){e.e()}}function $(e){return document.getElementById(e)}function s(){var n=0,t="<div class='",i="' id='I";for(m="'>",e="</div>",z="<br>",n=1;n<7;n++)$("sw")[v]+=t+"swi l "+"  m  m  "[n]+"'><input id='DO"+n+"' type='checkbox' onclick='st()'><label for='DO"+n+"'></label>DO"+n+e;for(n=0;n<7;n++){var r=n?"":"t",o=t+r+i+n+".";$("sts")[v]+=t+"i "+r+m+(n||"input")+e+o+"D"+m+(n?"?":"D")+e+(n<5?o+"V"+m+(n?"?":"V")+e+t+r+(n?"":" e")+i+n+".I"+m+(n?"?":"I (mA)")+e:"")+z}for(n=0;n<6;n++)i="'"+"idgsmp"[n]+"'",$("cf")[v]+=t+"line"+(n>4?" spa":"")+m+"<input id="+i+" name="+i+(n>4?" type='password'":"")+"><label for="+i+">"+["IP","DNS","Gateway","Subnet","MAC","Password"][n]+" : </label>"+e+z;$("cf")[v]+=z+t+"bt l' onclick='cf()'>cancel"+e+t+"bt r' onclick='sv()'>save"+e+z,pl(1)}function err(e,n,t){tie&&clearTimeout(tie);var i=$("err");e&&(0!==t&&(tie=setTimeout(err,t||5e3)),i[v]=n?e:"error ("+e+")"),i.style.display=e?"block":"none"}function rq(e,n){if(!bl){var t=window["x"+e].r;t.open("GET",n+"&"+(new Date).getTime()+"=",!0),t.send(null)}}function sp(){tip&&clearTimeout(tip),x1&&x1.r.abort()}function pl(e){sp(),tip=setTimeout(function(){rq(1,cg?"/api/state?":"/config?")},e?10:1e3)}function ps(){$("pw").value==cg.p?(iv=!0,uv(),err(),pl(1)):err("wrong password",!0)}function sv(){var e,n,i="/?";for(t=0;t<6;t++){if(e="idgsmp"[t],n=$(e),t<5?!n.value||!n.value.match(t<3?/\d\d?\d?\.\d\d?\d?\.\d\d?\d?\.\d\d?\d?/:t<4?/^((128|192|224|240|248|252|254)\.0\.0\.0)|(255\.(((0|128|192|224|240|248|252|254)\.0\.0)|(255\.(((0|128|192|224|240|248|252|254)\.0)|255\.(0|128|192|224|240|248|252|254)))))$/:/^([0-9a-f]{1,2}[\.:-]){5}([0-9a-f]{1,2})$/i):n.value&&(n.value.length<3||!n.value.match(/^[0-9a-z]+$/i)))return alert("Please enter a valid "+["IP","DNS","gateway","subnet","MAC address","password (minimum 3 characters, letters and digits only)"][t]),n.focus(),!1;i+=e+"="+n.value+"&"}lip=$("i").value,rq(2,i),bl=!0}function uv(){for(var e=0;e<4;e++)$(["ps","cb","vw","cf"][e]).style.display=[iv?"none":"block",iv?"block":"none",cv||!iv?"none":"block",cv&&iv?"block":"none"][e]}function st(e){e&&(as=$("AO1").value,$("AO1").value=""),pl();var n,t="/api/set?";for(n=1;n<=6;n++)t+="DO"+n+"="+($("DO"+n).checked?"1":"0")+"&";for(rq(3,t+(as?"AO1="+as:"")),t="",n=1;n<=6;n++)t+="DO"+n+":"+($("DO"+n).checked?"1":"0")+" "}function cf(){cv=!cv,uv()}var tip,tie,cg,iv,cv,as,i,fc=0,bl=!1,lip="",k=0,x1=new x,x2=new x,x3=new x,v="innerHTML";x1.o=function(){fc=0;var e,n,t=JSON.parse(x1.r.responseText);if(!cg){cg=t;for(e in t)$(e).value=t[e];return iv=!t.p,uv(),void(iv&&pl(1))}for(e in t)if("D"==e[0])$(e).checked="1"==t[e];else for(n in t[e])$(e+"."+n)[v]=t[e][n];pl()},x1.e=function(){++fc>2&&err("x1"),pl()},x2.o=function(e){sp(),$("cf").style.display="none",$("vw").style.display="none",$("sv").style.display="block",setInterval(function(){window.location="http://"+lip},2e3)},x2.e=function(){err("x2"),bl=!1,pl(1)},x3.o=function(){as=""},x3.e=st</script><body onload=s()><div class="a cont"><div class=body align=center><div class=title>IONO<div class="r bt"id=cb onclick=cf()><div></div><div></div><div></div></div></div><div class=p id=sv>Saving configuration, please wait...</div><div class=p id=ps><div class=line><input id=pw name=pw onkeypress="13==event.keyCode&&ps()"maxlength=8 type=password><label for=pw>Password :</label></div><br><div class="r bt"onclick=ps()>ok</div><br></div><div class=p id=cf></div><div class=p id=vw align=center><div id=sw></div><hr><div class=sts id=sts></div><hr><div class="ao l"><label for=AO1>AO1 :&nbsp;</label><input id=AO1 name=AO1 onkeypress="13==event.keyCode&&st(1)"> V</div><div class="r bt c"onclick=st(1)>set</div><br></div><div class="r err"id=err></div></div></div>
